<!--@Todo: make it so that clicking outside the pop-ups closes them
    (added bonus of not having them layer on top of each other)-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Team Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>


        body{
            background-color: rgb(18, 18, 126);
        }


        /* ---------------- Navbar styling ---------------- */
        .navbar {
            position: relative;
            z-index: 1000;
        }


        /* ---------------- Team card container ---------------- */
        .cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: flex-start;
        }

        /* ---------------- Individual team card ---------------- */
        .team-card {
            width: 40vw;
            height: 30vh;
            display: flex;
            position: relative;
            flex-direction: column;
            border: 3px solid white;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            padding: 0;
            margin: 2vw;
        }

        /* Image section inside card */
        .img-section {
            width: 100%;
            height: 100%
        }
        .img-section img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Text section inside card */
        .text-section {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 0.75rem;

            color: white;
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
            white-space: pre-line;
            text-shadow: 1px 1px 2px black;

            background: none;
        }

        /* ---------------- Pop-up styling ---------------- */
        .pop-up {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            background-color: white;
            z-index: 10; /* above the card */
            padding: 10px;
            text-align: center;
            box-shadow: 0 0 8px rgba(0,0,0,0.3);
        }

        /* Close button in pop-up */
        .pop-up .close-btn {
            top: 5px;
            right: 5px;
            font-size: 20px;
            color: black;
        }

        .carousel-item {
            padding: 20px;
        }

        .carousel-item .cards-row {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            filter: invert(1);
        }
    </style>
</head>
<body>

    <!-- ---------------- Navbar ---------------- -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container">
            <a href="#" class="navbar-brand">CNU UAS</a>
            <!-- Navbar Collapse Button -->
            <button class="navbar-toggler" data-bs-toggle="collapse" 
            data-bs-target="#nav" aria-controls="nav" aria-label="Expand Navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
           
            <!-- Navbar Links -->
            <div class="collapse navbar-collapse" id="nav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link active" aria-current="page">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a href="drone.html" class="nav-link" aria-current="page">DRONE</a>
                    </li>
                    <li class="nav-item">
                        <a href="team.html" class="nav-link" aria-current="page">TEAM</a>
                    </li>
                    <li class="nav-item">
                        <a href="sponsers.html" class="nav-link" aria-current="page">SPONSORS</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <div class = "teamCarouselWrapper">


        <!-- ---------------- Container for team cards ---------------- -->
        <div id="teamCarousel" class="carousel slide" data-bs-ride="false">
            <div class="carousel-inner" id="team-cards"></div>

            <button class="carousel-control-prev" type="button" data-bs-target="#teamCarousel" data-bs-slide="prev">
                <img src="images\left_arrow.png" class="carousel-arrow" alt="Previous">
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#teamCarousel" data-bs-slide="next">
                <img src="images\right_arrow.png" class="carousel-arrow" alt="Next">
            </button>
        </div>

        <!-- ---------------- Container for pop-ups ---------------- -->
        <div id="popups-container">
            <!-- Pop-ups will be generated dynamically by JavaScript -->
        </div>

    </div>





   <script>
        const teamMembers = [
            {name: 'Test Team\nCard 1', img: 'https://picsum.photos/600/350?random=1', popup: 'Popup for Team Member 1'},
            {name: 'Test Team\nCard 2', img: 'https://picsum.photos/600/350?random=2', popup: 'Popup for Team Member 2'},
            {name: 'Test Team\nCard 3', img: 'https://picsum.photos/600/350?random=3', popup: 'Popup for Team Member 3'},
            {name: 'Test Team\nCard 4', img: 'https://picsum.photos/600/350?random=4', popup: 'Popup for Team Member 4'},
            {name: 'Test Team\nCard 5', img: 'https://picsum.photos/600/350?random=5', popup: 'Popup for Team Member 5'},
        ];

        const CARDS_PER_SLIDE = 1;

        const cardsContainer = document.getElementById('team-cards');
        const popupsContainer = document.getElementById('popups-container');

        // Split team members into chunks (slides)
        for (let i = 0; i < teamMembers.length; i += CARDS_PER_SLIDE) {
            const slideMembers = teamMembers.slice(i, i + CARDS_PER_SLIDE);

            // Create carousel slide
            const slide = document.createElement('div');
            slide.className = `carousel-item ${i === 0 ? 'active' : ''}`;

            const row = document.createElement('div');
            row.className = 'cards-row';

            slideMembers.forEach((member, index) => {
                const memberIndex = i + index;

                // ---------- Create card ----------
                const card = document.createElement('button');
                card.className = 'team-card';
                card.innerHTML = `
                    <div class="img-section"><img src="${member.img}" alt="${member.name}"></div>
                    <div class="text-section">${member.name}</div>
                `;

                // ---------- Create popup ----------
                const popup = document.createElement('div');
                popup.className = 'pop-up';
                popup.id = `popup-${memberIndex}`;
                popup.innerHTML = `
                    <span class="close-btn">&times;</span>
                    <p>${member.popup}</p>
                `;

                card.appendChild(popup);

                // ---------- Events ----------
                // Open popup when card is clicked
                card.addEventListener('click', () => {
                    popup.style.display = 'block';
                });

                // Close popup when close button is clicked
                popup.querySelector('.close-btn').addEventListener('click', (e) => {
                    e.stopPropagation();      // Prevent click from reaching the card
                    popup.style.display = 'none';
                });

                row.appendChild(card);
            });

            slide.appendChild(row);
            cardsContainer.appendChild(slide);
        }
        </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
